<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test your solution method &mdash; Cornflow 0.4 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="User your solution method" href="use_solver.html" />
    <link rel="prev" title="Write a json-schema" href="jsonschema.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Cornflow
          </a>
              <div class="version">
                0.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../main/index.html">Main topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User guides and how-to</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deploy_solver_new.html">Deploy a new solution method 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="jsonschema.html">Write a json-schema</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Test your solution method</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basics-of-testing">Basics of testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-locally">Test locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-in-github">Test in github</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="use_solver.html">Use your solution method</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug_with_airflow.html">Debug your solution method</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples of solution methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clients/index.html">Supported clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/index.html">Deploy your own Cornflow-server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stable-rest-api-ref.html">API reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cornflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">User guides and how-to</a> &raquo;</li>
      <li>Test your solution method</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/guides/testing_app.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="test-your-solution-method">
<h1>Test your solution method<a class="headerlink" href="#test-your-solution-method" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basics-of-testing">
<h2>Basics of testing<a class="headerlink" href="#basics-of-testing" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://github.com/baobabsoluciones/cornflow-dags-public">cornflow-dags-public</a> project includes some unit tests that can be run to be sure the projects are “ready to be merged”. These unit tests use as input data the output of the function <code class="docutils literal notranslate"><span class="pre">test_cases()</span></code> defined in cornflow-dags/DAG/my_project/__init__.py. The tests themselves load the data, validate it with the schema, solve the problem, get a solution and validate it.</p>
<p>In order for your dag to be tested along with the others, you should add it to the unit tests to be run. The file to modify is <code class="docutils literal notranslate"><span class="pre">c</span>
<span class="pre">ornflow-dags/tests/test_dags.py</span></code>. In this file, you must add a class corresponding to your project. It should look something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyProject</span><span class="p">(</span><span class="n">BaseDAGTests</span><span class="o">.</span><span class="n">SolvingTests</span><span class="p">):</span>
   <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>
       <span class="kn">from</span> <span class="nn">DAG.MyProject</span> <span class="kn">import</span> <span class="n">MyApp</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">MyApp</span><span class="p">()</span>                   <span class="c1"># Will test the default solver</span>


   <span class="k">def</span> <span class="nf">test_solve_algo_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_try_solving_testcase</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s2">&quot;algorithm1&quot;</span><span class="p">))</span>
                                                 <span class="c1"># Will test another solver</span>
</pre></div>
</div>
</div>
<div class="section" id="test-locally">
<h2>Test locally<a class="headerlink" href="#test-locally" title="Permalink to this headline">¶</a></h2>
<p>Once the tests are defined, it’s possible to run them in the local machine. To do this, you need to do the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m unittest tests/test_dags.py
</pre></div>
</div>
<p>This should run all tests for all applications. If you only want to run tests for your application, you can do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m unittest tests.test_dags.MyProject
</pre></div>
</div>
</div>
<div class="section" id="test-in-github">
<h2>Test in github<a class="headerlink" href="#test-in-github" title="Permalink to this headline">¶</a></h2>
<p>When the source code for your application is uploaded to the git repository, github will perform the same unit tests for each of the dags to check whether the code produces errors. It will also run some additional tests.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jsonschema.html" class="btn btn-neutral float-left" title="Write a json-schema" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="use_solver.html" class="btn btn-neutral float-right" title="User your solution method" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-, cornflow documentation team..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>