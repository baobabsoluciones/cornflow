<!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write a json-schema - Cornflow 1.1.0 documentation</title><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Test your solution method" href="testing_app.html" /><link rel="prev" title="Coding style and rules" href="coding_style.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=83eaa723" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Write a json-schema"/>
<meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>Cornflow</strong>
    </a>
    <div class="sy-head-nav" id="HeadNav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials"></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="HeadNav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../main/index.html">Main topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../main/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/concepts.html">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/architecture.html">Cornflow-server architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/install.html">Installation instructions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User guides and how-to</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deploy_solver_new.html">Deploy a new solution method</a></li>
<li class="toctree-l2"><a class="reference internal" href="coding_style.html">Solution method coding style</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Write a json-schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing_app.html">Test your solution method</a></li>
<li class="toctree-l2"><a class="reference internal" href="use_solver.html">Use your solution method</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug_with_airflow.html">Debug your solution method</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples of solution methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/bar_cutting.html">Bar cutting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/facility_location.html">Facility location</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/graph_coloring.html">Graph coloring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/knapsack.html">Knapsack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/rostering.html">Rostering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/scheduling.html">Scheduling: hackathon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/tsp.html">Travelling Salesman Problem (TSP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/two_dimensional_bin_packing.html">two_dimensional_bin_packing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/vrp.html">Vehicle Routing Problem (VRP)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clients/index.html">Supported clients</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../clients/python-api.html">Python API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/index.html">Deploy your own cornflow-server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../deploy/intro.html">Before you begin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/docker-compose.yml.html">docker-compose.yml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/docker-stack.html">Docker stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/simultaneous.html">Running with simultaneous resolutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/options.html">Deployment options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/production.html">Production deployment and security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/access.html">Access control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy/logs.html">Logging and monitoring</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Code documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/auxiliar_models.html">Auxiliar models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/meta_models.html">Meta models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/endpoints.html">Main endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/other_endpoints.html">Other endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/auxiliar_endpoints.html">Auxiliar endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/cornflow_client.html">Cornflow-client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stable-rest-api-ref.html">API reference</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#basics-of-schemas">Basics of schemas</a><ul>
<li><a class="reference internal" href="#no-nested-list-types">No nested list types</a></li>
<li><a class="reference internal" href="#required-property">Required property</a></li>
<li><a class="reference internal" href="#exception-for-simple-objects">Exception for &#8220;simple objects&#8221;</a></li>
<li><a class="reference internal" href="#naming-conventions">Naming conventions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-with-tsp">Example with TSP</a><ul>
<li><a class="reference internal" href="#instance-schema">Instance schema</a></li>
<li><a class="reference internal" href="#solution-schema">Solution schema</a></li>
<li><a class="reference internal" href="#configuration-schema">Configuration schema</a></li>
</ul>
</li>
<li><a class="reference internal" href="#generating-jsonschema-from-data">Generating jsonschema from data</a></li>
<li><a class="reference internal" href="#json-schema-validations">Json-schema validations</a></li>
<li><a class="reference internal" href="#other-jsonschema-properties">Other jsonschema properties</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6"><div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">Cornflow</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">User guides and how-to</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Write a json-schema</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="write-a-json-schema">
<h1>Write a json-schema<a class="headerlink" href="#write-a-json-schema" title="Permalink to this heading">¶</a></h1>
<section id="basics-of-schemas">
<h2>Basics of schemas<a class="headerlink" href="#basics-of-schemas" title="Permalink to this heading">¶</a></h2>
<p>The schemas are descriptions of the data accepted by the application.</p>
<p>In particular, a schema must describe a dictionary of tables, each table described as a list of dictionaries whose keys are the name of the columns.</p>
<p>Let’s take an example of data with two tables <code class="docutils literal notranslate"><span class="pre">customers</span></code> and <code class="docutils literal notranslate"><span class="pre">allowedTrailers</span></code>.</p>
<p><strong>customers</strong>:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>IdCustomer</p></th>
<th class="head"><p>Demand</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>allowedTrailers</strong>:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>IdCustomer</p></th>
<th class="head"><p>idTrailer</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
</div>
<p>The schema will look like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span><span class="w"> </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/schema#&quot;</span><span class="p">,</span>
</span><span data-line="2"><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w"> </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">   </span><span class="nt">&quot;customers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">     </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="7"><span class="w">       </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">       </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">         </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="10"><span class="w">           </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
</span><span data-line="11"><span class="w">         </span><span class="p">},</span>
</span><span data-line="12"><span class="w">         </span><span class="nt">&quot;Demand&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="13"><span class="w">           </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
</span><span data-line="14"><span class="w">         </span><span class="p">}</span>
</span><span data-line="15"><span class="w">       </span><span class="p">},</span>
</span><span data-line="16"><span class="w">       </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="17"><span class="w">         </span><span class="s2">&quot;index&quot;</span><span class="p">,</span>
</span><span data-line="18"><span class="w">         </span><span class="s2">&quot;Demand&quot;</span>
</span><span data-line="19"><span class="w">       </span><span class="p">]</span>
</span><span data-line="20"><span class="w">     </span><span class="p">}</span>
</span><span data-line="21"><span class="w">   </span><span class="p">},</span>
</span><span data-line="22"><span class="w">   </span><span class="nt">&quot;allowedTrailers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="23"><span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span data-line="24"><span class="w">     </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="25"><span class="w">       </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="26"><span class="w">       </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="27"><span class="w">         </span><span class="nt">&quot;idCustomer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="28"><span class="w">           </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
</span><span data-line="29"><span class="w">         </span><span class="p">},</span>
</span><span data-line="30"><span class="w">         </span><span class="nt">&quot;idTrailer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="31"><span class="w">           </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
</span><span data-line="32"><span class="w">         </span><span class="p">}</span>
</span><span data-line="33"><span class="w">       </span><span class="p">},</span>
</span><span data-line="34"><span class="w">       </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="35"><span class="w">         </span><span class="s2">&quot;idCustomer&quot;</span><span class="p">,</span>
</span><span data-line="36"><span class="w">         </span><span class="s2">&quot;idTrailer&quot;</span>
</span><span data-line="37"><span class="w">       </span><span class="p">]</span>
</span><span data-line="38"><span class="w">     </span><span class="p">}</span>
</span><span data-line="39"><span class="w">   </span><span class="p">}</span>
</span><span data-line="40"><span class="w"> </span><span class="p">},</span>
</span><span data-line="41"><span class="w"> </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="42"><span class="w">   </span><span class="s2">&quot;customers&quot;</span><span class="p">,</span>
</span><span data-line="43"><span class="w">   </span><span class="s2">&quot;allowedTrailers&quot;</span>
</span><span data-line="44"><span class="w"> </span><span class="p">]</span>
</span><span data-line="45"><span class="p">}</span>
</span></pre></div>
</div>
<p>This basically means that our input data should be an object containing two tables (<code class="docutils literal notranslate"><span class="pre">customers</span></code> and <code class="docutils literal notranslate"><span class="pre">allowedTrailers</span></code>) represented as arrays of objects.
It is important to note three things:</p>
<section id="no-nested-list-types">
<h3>No nested list types<a class="headerlink" href="#no-nested-list-types" title="Permalink to this heading">¶</a></h3>
<p>If your data previously looked like this:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>IdCustomer</p></th>
<th class="head"><p>Demand</p></th>
<th class="head"><p>idTrailer</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>4</p></td>
<td><p>[7, 8]</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>[9]</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>7</p></td>
<td><p>[4]</p></td>
</tr>
</tbody>
</table>
</div>
<p>Then it should be converted into two tables like shown before. The cells of a table must only contain unidimensional values</p>
</section>
<section id="required-property">
<h3>Required property<a class="headerlink" href="#required-property" title="Permalink to this heading">¶</a></h3>
<p>The property “required” must be included for all objects that are needed to solve the problem.</p>
<p>In real problems, pure data is usually complemented by auxiliary information (such as that used to display in screens: names, comments, coordinates, etc.). This information should not be included in the “required” property because it is not required to produce a solution for the problem (it is still useful to be defined so it can be validated by the schema).</p>
</section>
<section id="exception-for-simple-objects">
<h3>Exception for “simple objects”<a class="headerlink" href="#exception-for-simple-objects" title="Permalink to this heading">¶</a></h3>
<p>Even though most properties of our schema object must be arrays, an exception is made for the parameters of the problems that are unidimensional and can not be represented as lists. For instance, if in our previous example we had two parameters <code class="docutils literal notranslate"><span class="pre">trailersCapacity</span></code> and <code class="docutils literal notranslate"><span class="pre">timeHorizon</span></code>, we would add a property <code class="docutils literal notranslate"><span class="pre">parameters</span></code> to our schema:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span><span class="w"> </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/schema#&quot;</span><span class="p">,</span>
</span><span data-line="2"><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w"> </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">   </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">     </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="7"><span class="w">       </span><span class="nt">&quot;trailersCapacity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="8"><span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
</span><span data-line="9"><span class="w">       </span><span class="p">},</span>
</span><span data-line="10"><span class="w">       </span><span class="nt">&quot;timeHorizon&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="11"><span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
</span><span data-line="12"><span class="w">       </span><span class="p">}</span>
</span><span data-line="13"><span class="w">     </span><span class="p">},</span>
</span><span data-line="14"><span class="w">     </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;trailersCapacity&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;timeHorizon&quot;</span><span class="p">]</span>
</span><span data-line="15"><span class="w">   </span><span class="p">},</span>
</span><span data-line="16"><span class="w">   </span><span class="nt">&quot;customers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
</span><span data-line="17"><span class="w">   </span><span class="nt">&quot;allowedTrailers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span data-line="18"><span class="w">   </span><span class="p">},</span>
</span><span data-line="19"><span class="w"> </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="20"><span class="w">   </span><span class="s2">&quot;customers&quot;</span><span class="p">,</span>
</span><span data-line="21"><span class="w">   </span><span class="s2">&quot;allowedTrailers&quot;</span><span class="p">,</span>
</span><span data-line="22"><span class="w">   </span><span class="s2">&quot;parameters&quot;</span>
</span><span data-line="23"><span class="w"> </span><span class="p">]</span>
</span><span data-line="24"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="naming-conventions">
<h3>Naming conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this heading">¶</a></h3>
<p>When naming columns in a “master table”, we refer to the unique id of each row
as “id” (see the <code class="docutils literal notranslate"><span class="pre">shifts</span></code> property below. When an id is used as a foreign
key in another table (see the <code class="docutils literal notranslate"><span class="pre">resources_not_available</span></code> property), we use
“id_shift” to denote that is the id of the shift that we are using:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/schema#&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;shifts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="6"><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">        </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="8"><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="9"><span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="10"><span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="11"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="12"><span class="w">                </span><span class="p">},</span>
</span><span data-line="13"><span class="w">                </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="14"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="15"><span class="w">                </span><span class="p">},</span>
</span><span data-line="16"><span class="w">                </span><span class="nt">&quot;end_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="17"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="18"><span class="w">                </span><span class="p">}</span>
</span><span data-line="19"><span class="w">            </span><span class="p">},</span>
</span><span data-line="20"><span class="w">            </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="21"><span class="w">                </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span data-line="22"><span class="w">                </span><span class="s2">&quot;start_time&quot;</span><span class="p">,</span>
</span><span data-line="23"><span class="w">                </span><span class="s2">&quot;end_time&quot;</span>
</span><span data-line="24"><span class="w">            </span><span class="p">]</span>
</span><span data-line="25"><span class="w">        </span><span class="p">}</span>
</span><span data-line="26"><span class="w">    </span><span class="p">},</span>
</span><span data-line="27"><span class="w">    </span><span class="nt">&quot;resources_unavailable&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="28"><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span data-line="29"><span class="w">        </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="30"><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="31"><span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="32"><span class="w">                </span><span class="nt">&quot;id_resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="33"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="34"><span class="w">                </span><span class="p">},</span>
</span><span data-line="35"><span class="w">                </span><span class="nt">&quot;id_shift&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="36"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="37"><span class="w">                </span><span class="p">},</span>
</span><span data-line="38"><span class="w">                </span><span class="nt">&quot;start_date&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="39"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="40"><span class="w">                </span><span class="p">},</span>
</span><span data-line="41"><span class="w">                </span><span class="nt">&quot;end_date&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="42"><span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span data-line="43"><span class="w">                </span><span class="p">}</span>
</span><span data-line="44"><span class="w">            </span><span class="p">},</span>
</span><span data-line="45"><span class="w">            </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="46"><span class="w">                </span><span class="s2">&quot;id_resource&quot;</span><span class="p">,</span>
</span><span data-line="47"><span class="w">                </span><span class="s2">&quot;id_shift&quot;</span><span class="p">,</span>
</span><span data-line="48"><span class="w">                </span><span class="s2">&quot;start_date&quot;</span><span class="p">,</span>
</span><span data-line="49"><span class="w">                </span><span class="s2">&quot;end_date&quot;</span>
</span><span data-line="50"><span class="w">            </span><span class="p">]</span>
</span><span data-line="51"><span class="w">        </span><span class="p">}</span>
</span><span data-line="52"><span class="w">    </span><span class="p">},</span>
</span><span data-line="53"><span class="w">    </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;shifts&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;resources_unavailable&quot;</span><span class="p">]</span>
</span><span data-line="54"><span class="p">}</span>
</span></pre></div>
</div>
<p>As explained in the section beforehand, the parameters that are unidimensional should be on a table called <code class="docutils literal notranslate"><span class="pre">parameters</span></code>.</p>
</section>
</section>
<section id="example-with-tsp">
<h2>Example with TSP<a class="headerlink" href="#example-with-tsp" title="Permalink to this heading">¶</a></h2>
<p>Let’s take the well known TSP problem and generate an instance, a solution and a configuration following these guidelines.</p>
<section id="instance-schema">
<h3>Instance schema<a class="headerlink" href="#instance-schema" title="Permalink to this heading">¶</a></h3>
<p>An instance of a TSP is a simple graph with positive weights in each arc. We will represent the graph by a list of arcs:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/schema#&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">        </span><span class="nt">&quot;arcs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="6"><span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Arc information between pairs of nodes&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">            </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="10"><span class="w">                </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="11"><span class="w">                    </span><span class="nt">&quot;n1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">},</span>
</span><span data-line="12"><span class="w">                    </span><span class="nt">&quot;n2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">},</span>
</span><span data-line="13"><span class="w">                    </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;float&quot;</span><span class="p">}</span>
</span><span data-line="14"><span class="w">                </span><span class="p">},</span>
</span><span data-line="15"><span class="w">                </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;n1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;n2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;w&quot;</span><span class="p">]</span>
</span><span data-line="16"><span class="w">            </span><span class="p">}</span>
</span><span data-line="17"><span class="w">        </span><span class="p">}</span>
</span><span data-line="18"><span class="w">    </span><span class="p">},</span>
</span><span data-line="19"><span class="w">    </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;arcs&quot;</span><span class="p">]</span>
</span><span data-line="20"><span class="p">}</span>
</span></pre></div>
</div>
<p>We are using <code class="docutils literal notranslate"><span class="pre">n1</span></code> and <code class="docutils literal notranslate"><span class="pre">n2</span></code> to call each the first and second node of each arc. We use <code class="docutils literal notranslate"><span class="pre">w</span></code> to call the weight of the arc.</p>
<p>An example input dataset that follows this schema is the following:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">    </span><span class="nt">&quot;arcs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="3"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;n1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;n2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
</span><span data-line="4"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;n1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;n2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">633</span><span class="p">},</span>
</span><span data-line="5"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;n1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;n2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">257</span><span class="p">},</span>
</span><span data-line="6"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;n1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;n2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">},</span>
</span><span data-line="7"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;n1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;n2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">412</span><span class="p">}</span>
</span><span data-line="8"><span class="w">    </span><span class="p">]</span>
</span><span data-line="9"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="solution-schema">
<h3>Solution schema<a class="headerlink" href="#solution-schema" title="Permalink to this heading">¶</a></h3>
<p>A solution to a TSP, is the sequence in which nodes should be visited. We <em>could</em> use an ordered array of nodes. Nevertheless, we need to use an array of objects. We will also add a new property with the position of the node in the sequence.:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/schema#&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">        </span><span class="nt">&quot;route&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="6"><span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Order of nodes in each route&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">            </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="10"><span class="w">                </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="11"><span class="w">                    </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">},</span>
</span><span data-line="12"><span class="w">                    </span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">}</span>
</span><span data-line="13"><span class="w">                </span><span class="p">},</span>
</span><span data-line="14"><span class="w">                </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;pos&quot;</span><span class="p">,</span><span class="s2">&quot;node&quot;</span><span class="p">]</span>
</span><span data-line="15"><span class="w">            </span><span class="p">}</span>
</span><span data-line="16"><span class="w">        </span><span class="p">}</span>
</span><span data-line="17"><span class="w">    </span><span class="p">},</span>
</span><span data-line="18"><span class="w">    </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;route&quot;</span><span class="p">]</span>
</span><span data-line="19"><span class="p">}</span>
</span></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">node</span></code> represents each node in the sequence. <code class="docutils literal notranslate"><span class="pre">pos</span></code> represents the position of each node in the sequence.</p>
<p>An example output dataset that follows this schema is the following:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">    </span><span class="nt">&quot;route&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="3"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
</span><span data-line="4"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">},</span>
</span><span data-line="5"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span>
</span><span data-line="6"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">},</span>
</span><span data-line="7"><span class="w">        </span><span class="p">{</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span>
</span><span data-line="8"><span class="w">    </span><span class="p">]</span>
</span><span data-line="9"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="configuration-schema">
<h3>Configuration schema<a class="headerlink" href="#configuration-schema" title="Permalink to this heading">¶</a></h3>
<p>The configuration will depend on the application. We usually have some default configuration tailored to MIP problems. Here is a minimalistic proposal:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/schema#&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">        </span><span class="nt">&quot;timeLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;float&quot;</span><span class="p">},</span>
</span><span data-line="6"><span class="w">        </span><span class="nt">&quot;seed&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">},</span>
</span><span data-line="7"><span class="w">        </span><span class="nt">&quot;gap&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;float&quot;</span><span class="p">},</span>
</span><span data-line="8"><span class="w">        </span><span class="nt">&quot;solver&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span data-line="10"><span class="w">            </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;naive&quot;</span><span class="p">],</span>
</span><span data-line="11"><span class="w">            </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;naive&quot;</span>
</span><span data-line="12"><span class="w">        </span><span class="p">}</span>
</span><span data-line="13"><span class="w">    </span><span class="p">}</span>
</span><span data-line="14"><span class="p">}</span>
</span></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">timeLimit</span></code> constraints the time the solution method can run. <code class="docutils literal notranslate"><span class="pre">gapRel</span></code> provides a tolerance measured in relative gap (to the best possible solution). <code class="docutils literal notranslate"><span class="pre">seed</span></code> provides a way to make the solution method deterministic. The <code class="docutils literal notranslate"><span class="pre">solver</span></code> property is mandatory for all solution methods and should always have this format (a string with an “enum” attribute).</p>
</section>
</section>
<section id="generating-jsonschema-from-data">
<h2>Generating jsonschema from data<a class="headerlink" href="#generating-jsonschema-from-data" title="Permalink to this heading">¶</a></h2>
<p>Usually, the instance data is tedious to describe via json-schema format. At the same time, an example instance is <em>usually</em> available by default in some format (xml, Excel, csv, custom file).</p>
<p>In this case, the first method of the Instance will be something along the lines of <code class="docutils literal notranslate"><span class="pre">from_xml</span></code> that will create an Instance from that file.</p>
<p>Imagine the second and third methods are <code class="docutils literal notranslate"><span class="pre">to_dict</span></code> and <code class="docutils literal notranslate"><span class="pre">from_dict</span></code>. With this, it’s already possible to generate an json with the right schema: both <a class="reference internal" href="../dev/cornflow_client.html#cornflow_client.core.instance.InstanceCore" title="cornflow_client.core.instance.InstanceCore"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceCore</span></code></a> and <a class="reference internal" href="../dev/cornflow_client.html#cornflow_client.core.solution.SolutionCore" title="cornflow_client.core.solution.SolutionCore"><code class="xref py py-class docutils literal notranslate"><span class="pre">SolutionCore</span></code></a> have a method called <code class="docutils literal notranslate"><span class="pre">generate_schema</span></code> that will do just that. They return an schema that is compatible with the current object.</p>
<p>An example code to do just that is available in the following <a class="reference external" href="https://github.com/baobabsoluciones/hackathonbaobab2021">https://github.com/baobabsoluciones/hackathonbaobab2021</a> project. Here is an excerpt:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span> <span class="nn">json</span>
</span><span data-line="2"><span class="kn">from</span> <span class="nn">hackathonbaobab2021.core</span> <span class="kn">import</span> <span class="n">Instance</span>
</span><span data-line="3"><span class="kn">import</span> <span class="nn">os</span>
</span><span data-line="4">
</span><span data-line="5">
</span><span data-line="6"><span class="k">def</span> <span class="nf">generate_schema</span><span class="p">():</span>
</span><span data-line="7">    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;../data/ITC2021_Test1.xml&quot;</span><span class="p">)</span>
</span><span data-line="8">    <span class="n">instance</span> <span class="o">=</span> <span class="n">Instance</span><span class="o">.</span><span class="n">from_xml</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span data-line="9">    <span class="n">schema</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">generate_schema</span><span class="p">()</span>
</span><span data-line="10">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span data-line="11">        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="12">
</span><span data-line="13">
</span><span data-line="14"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span data-line="15">    <span class="n">generate_schema</span><span class="p">()</span>
</span></pre></div>
</div>
</section>
<section id="json-schema-validations">
<h2>Json-schema validations<a class="headerlink" href="#json-schema-validations" title="Permalink to this heading">¶</a></h2>
<p>The json-schema are validated through their parent classes (<a class="reference internal" href="../dev/cornflow_client.html#cornflow_client.core.instance.InstanceCore" title="cornflow_client.core.instance.InstanceCore"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceCore</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">SolutionCore</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ApplicationCore</span></code>). This is usually done before solving a problem (e.g., see <code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code>). In any case, the app user can choose to take advantage of the schema to validate the input or output at any point in time by using <code class="xref py py-func docutils literal notranslate"><span class="pre">check_schema()</span></code> or <code class="xref py py-func docutils literal notranslate"><span class="pre">check_schema()</span></code>.</p>
</section>
<section id="other-jsonschema-properties">
<h2>Other jsonschema properties<a class="headerlink" href="#other-jsonschema-properties" title="Permalink to this heading">¶</a></h2>
<p>In order to visualize more information on the user interface on <code class="docutils literal notranslate"><span class="pre">cornflow-app</span></code> we can use some other properties of the <code class="docutils literal notranslate"><span class="pre">jsonschema</span></code> in order to convey more information about our data structure.</p>
<p>The main properties used are: <code class="docutils literal notranslate"><span class="pre">title</span></code>, <code class="docutils literal notranslate"><span class="pre">description</span></code> and <code class="docutils literal notranslate"><span class="pre">$comment</span></code>:</p>
<ul class="simple">
<li><p>We use the <code class="docutils literal notranslate"><span class="pre">title</span></code> property to set up a meaningful name for the table columns on the data tables.</p></li>
<li><p>We use the <code class="docutils literal notranslate"><span class="pre">description</span></code> property to give a description of the table or fields of the data tables.</p></li>
<li><p>These two properties can be an object indexed by the language key (<code class="docutils literal notranslate"><span class="pre">en</span></code> or <code class="docutils literal notranslate"><span class="pre">es</span></code> for example) in order to set up the internationalization of the user interface.</p></li>
<li><p>We use the <code class="docutils literal notranslate"><span class="pre">show</span></code> property to indicate if the table or column has to be seen in the user interface.</p></li>
<li><p>We use the <code class="docutils literal notranslate"><span class="pre">filterable</span></code> property to indicate if the table or the column can be filtered down on the user interface.</p></li>
<li><p>We use the <code class="docutils literal notranslate"><span class="pre">sortable</span></code> property to indicate if the table or column can be sorted on the user interface.</p></li>
<li><p>We use the <code class="docutils literal notranslate"><span class="pre">format</span></code> property to set up additional information of the type of the property, mainly if the field is a date field and should be treated as such for validation.</p></li>
<li><p>We uses the <code class="docutils literal notranslate"><span class="pre">minimum</span></code> and <code class="docutils literal notranslate"><span class="pre">maximum</span></code> properties for integer or number fields in order to set up the limits of the data. This limits are used by the forms in the user interface as well.</p></li>
</ul>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="coding_style.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Coding style and rules</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="testing_app.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Test your solution method</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2020-, cornflow documentation team.</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials"></div>
    </div>
  </div>
</footer>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=def9ab29"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/design-tabs.js?v=36754332"></script>
      <script src="../_static/shibuya.js?v=e2e99575"></script></body>
</html>